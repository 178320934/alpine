<html>
    <!-- <script src="./packages/intersect/dist/cdn.js" defer></script>
    <script src="./packages/morph/dist/cdn.js" defer></script>
    <script src="./packages/persist/dist/cdn.js"></script>
    <script src="./packages/focus/dist/cdn.js"></script>
    <script src="./packages/mask/dist/cdn.js"></script>
    <script src="./packages/ui/dist/cdn.js" defer></script> -->
    <script src="./packages/anchor/dist/cdn.js" defer></script>
    <script src="./packages/sort/dist/cdn.js" defer></script>
    <script src="./packages/alpinejs/dist/cdn.js" defer></script>
    <!-- <script src="//cdn.tailwindcss.com"></script> -->
    <!-- <script src="//cdn.tailwindcss.com"></script> -->

    <script>
        let count = 0;
        document.addEventListener("alpine:init", () => {
            Alpine.directive("test", (el, _, { cleanup }) => {
                el.textContent = "Initialized";
                cleanup(() => {
                    el.textContent = "Cleaned up";
                });
                // Alpine.nextTick(() => {
                //     el.parentNode.replaceChildren(el);
                // })
            });
        });
    </script>
    <div x-data>
        <div x-ref="anchor"></div>

        <div x-ref="target" class="bg-red-300 w-32 h-32" x-test></div>

        <button @click="$refs.anchor.before($refs.target)">Move</button>
    </div>
</html>
